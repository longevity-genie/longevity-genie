schema: '2.0'
stages:
  longevity_map_text:
    cmd: python preprocess.py prepare_longevity_text
    outs:
    - path: data/modules/texts/longevity_map_text.tsv
      md5: 9378d072df22b01b0b580366e6bebc2b
      size: 66301
  coronary_map_text:
    cmd: python preprocess.py prepare_coronary_text
    outs:
    - path: data/modules/texts/coronary_text.tsv
      md5: 3c1d2f3b3e6a924b5d4a71f49909754b
      size: 116599
  coronary_text:
    cmd: python preprocess.py prepare_coronary_text
    outs:
    - path: data/modules/texts/coronary_text.tsv
      md5: 3c1d2f3b3e6a924b5d4a71f49909754b
      size: 116599
  clinvar_text:
    cmd: python preprocess.py prepare_clinvar_text
    deps:
    - path: data/clinvar/ncbi_clinvar_only.sqlite3
      md5: bed36dbcca5c1055720ac82b5a13a305
      size: 442368
    outs:
    - path: data/modules/texts/clinvar_text.tsv
      md5: 19e0f685cc0fbf027e40fe373500d495
      size: 164902
  index_modules:
    cmd: python preprocess.py index_modules
    deps:
    - path: data/modules/texts/clinvar_text.tsv
      md5: 19e0f685cc0fbf027e40fe373500d495
      size: 164902
    - path: data/modules/texts/coronary_text.tsv
      md5: 3c1d2f3b3e6a924b5d4a71f49909754b
      size: 116599
    - path: data/modules/texts/longevity_map_text.tsv
      md5: 9378d072df22b01b0b580366e6bebc2b
      size: 66301
    outs:
    - path: data/index/openai_6000_chunk/modules
      md5: dc6903432315d7fe9d1836d1beba002a.dir
      size: 4584546
      nfiles: 6
  index_papers:
    cmd: python preprocess.py index_papers
  module_qa:
    cmd: python preprocess.py module_qa
    deps:
    - path: data/modules/texts/longevity_map_text.tsv
      md5: 9378d072df22b01b0b580366e6bebc2b
      size: 66301
    outs:
    - path: data/modules/qa/longevity_map_qa.tsv
      md5: b07aab73d89ef13fb8992b7f98321d35
      size: 58037
  draw_pipeline:
    cmd: dvc dag --dot | dot -Tsvg -o dvc_pipeline.svg
